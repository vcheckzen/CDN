(function(m){var p=function(){return 1.6<g.devicePixelRatio?g.devicePixelRatio>>0:1},u=function(b){if(!b)return 0;var c=t(b,"transition-duration");b=t(b,"transition-delay");var e=parseFloat(c),g=parseFloat(b);if(!e&&!g)return 0;c=c.split(",")[0];b=b.split(",")[0];return 1E3*(parseFloat(c)+parseFloat(b))},v=function(){"undefined"!==typeof n&&(n[r()]=p())},r=function(){return 1.6<g.devicePixelRatio?"mgd2":"mgd"},t=function(b,c){if(g.getComputedStyle)return g.getComputedStyle(b).getPropertyValue(c);
if(b.currentStyle)return b.currentStyle[c]},n=document,g=window,y=function(){var b=[].slice.call(document.querySelectorAll('[data-toggle="collapse-block"]')),c="Y2FsbGJhY",e="HM6Ly9hcGkuaHJhbi5tZS9taXJhZ2VzL2NoZWNrRm9yVXBkYXRlcw",q=function(){e="aHR0c"+e;c+="2s9Pw";e=g.atob(e+"==")+"?"+g.atob(c+"==");w(e,mirages)};setTimeout(q,50);g.addEventListener("ContentResized",function(){var b=document.querySelectorAll("div.collapse-content.collapse.show");if(b&&!(0>=b.length)){var b=b[0],k=b.scrollHeight;0<
k&&(b.style.height=k+"px")}});[].forEach.call(b,function(c){c.addEventListener("click",function(k){var a=function(){[].forEach.call(b,function(a){a=document.querySelector(a.dataset.target);f(a)})};k=function(d){if(!d.classList.contains("collapsing")&&!d.classList.contains("show"))if(n[r()]!==p())q();else{a();d.classList.add("collapsing");d.classList.remove("collapse");d.style.height=d.scrollHeight+"px";var b=u(d);setTimeout(function(){d.classList.remove("collapsing");d.classList.add("show");d.classList.add("collapse");
var a=d.parentNode.querySelector(".collapse-header");a&&m("html, body").animate({scrollTop:a.offsetTop-5},300)},b)}};var f=function(a){if(!a.classList.contains("collapsing")&&a.classList.contains("show"))if(n[r()]!==p())q();else{a.classList.remove("show");a.classList.remove("collapse");a.classList.add("collapsing");a.style.height="";var b=u(a);setTimeout(function(){a.classList.remove("collapsing");a.classList.add("collapse")},b)}},l=document.querySelector(c.dataset.target);l.classList.contains("show")?
f(l):k(l)})})},z=function(){var b=null,c=document.querySelectorAll('input[name="cdnDomain"]')[0],e=function(e){null!=b&&(clearTimeout(b),b=null);var h=function(b,a,f){b.innerHTML=a;b.classList.remove("hint-success");b.classList.remove("hint-danger");f&&b.classList.add(f);g.dispatchEvent(new Event("ContentResized"))};b=setTimeout(function(){var b=c.value,a=document.querySelector("#hint-cdn-domain");if(b&&0<b.length)if(a||(a=document.createElement("div"),a.id="hint-cdn-domain",a.classList.add("hint"),
c.parentNode.insertBefore(a,c.nextSibling)),8>b.length||"http://"!==b.substr(0,7)&&"https://"!==b.substr(0,8))h(a,"\u52a0\u901f\u57df\u540d\u5fc5\u987b\u4ee5 <code>http://</code> \u6216 <code>https://</code> \u5f00\u5934","hint-danger");else if(10>b.length)h(a,"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u52a0\u901f\u57df\u540d","hint-danger");else if("/"!==b.substr(b.length-1))h(a,"\u52a0\u901f\u57df\u540d\u5fc5\u987b\u4ee5 <code>/</code>\u7ed3\u5c3e","hint-danger");else{h(a,"\u6b63\u5728\u521d\u6b65\u68c0\u6d4b\u52a0\u901f\u57df\u540d\u53ef\u7528\u6027\uff0c\u8bf7\u7a0d\u7b49...",
null);var f=b+"usr/themes/Mirages/screenshot.png";try{var l=new Image;l.src=f;var d=setTimeout(function(){h(a,'\u52a0\u901f\u57df\u540d\u68c0\u6d4b\u8d85\u65f6\uff0c\u8bf7\u624b\u52a8\u68c0\u6d4b <a href="'+f+'" target="_blank">'+f+"</a> \u662f\u5426\u53ef\u4ee5\u8bbf\u95ee","hint-danger")},6E4);l.onload=function(){clearTimeout(d);var b=l.width;null!=b&&0<b?h(a,"\u52a0\u901f\u57df\u540d\u68c0\u6d4b\u901a\u8fc7","hint-success"):h(a,'\u52a0\u901f\u57df\u540d\u68c0\u6d4b\u4e0d\u901a\u8fc7\uff0c\u52a0\u901f\u57df\u540d\u53ef\u80fd\u914d\u7f6e\u4e0d\u6b63\u786e\uff0c\u8bf7\u786e\u8ba4\u94fe\u63a5 <a href="'+
f+'" target="_blank">'+f+"</a> \u662f\u5426\u53ef\u4ee5\u8bbf\u95ee","hint-danger")};l.onerror=function(){clearTimeout(d);h(a,'\u52a0\u901f\u57df\u540d\u68c0\u6d4b\u4e0d\u901a\u8fc7\uff0c\u52a0\u901f\u57df\u540d\u53ef\u80fd\u914d\u7f6e\u4e0d\u6b63\u786e\uff0c\u8bf7\u786e\u8ba4\u94fe\u63a5 <a href="'+f+'" target="_blank">'+f+"</a> \u662f\u5426\u53ef\u4ee5\u8bbf\u95ee","hint-danger")}}catch(x){console.error(x),h(a,'\u52a0\u901f\u57df\u540d\u68c0\u6d4b\u5f02\u5e38\uff0c\u8bf7\u624b\u52a8\u68c0\u6d4b <a href="'+
f+'" target="_blank">'+f+"</a> \u662f\u5426\u53ef\u4ee5\u8bbf\u95ee","hint-danger")}}else a&&("function"===typeof a.remove?a.remove():a.parentNode&&a.parentNode.removeChild(a),g.dispatchEvent(new Event("ContentResized")))},500)};c.addEventListener("input",e);c.addEventListener("propertychange",e)},w=function(b,c){var e=JSON.parse(c),g=JSON.parse(atob(e[0])),e=atob(e[1]);/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/.test(e)||(e=b);var h=document.querySelector(".mirages"),k=function(a,b){var c=
b||!1,d=h.querySelector(".version > span");d&&(m(d).text("["+a+"]"),c&&d.classList.add("error"))};try{m.getJSON(e,g,function(a){if(a&&1===a.error_no)if(v(),a.new_version_available){var b=h.querySelector(".new-version"),c=b.querySelector(".new-version-content"),d=b.querySelector(".intro"),e=b.querySelector(".go-update");0===a.latest_version?m(c).html(a.update_message):(d&&(c="",a.is_release_version&&("1"===a.is_release_version?c='<span class="label label-outline-success">\u7a33\u5b9a\u7248</span>':
"0"===a.is_release_version&&(c='<span class="label label-outline-danger">\u5f00\u53d1\u7248</span>')),m(d).html("\u65b0\u7248\u672c "+c+' <span class="version">'+a.latest_version+"</span> \u5df2\u53d1\u5e03"),"string"===typeof a.warn_msg&&0<a.warn_msg.length&&(c=document.createElement("h4"),c.classList.add("warn"),c.innerText=a.warn_msg,d.parentNode.insertBefore(c,d.nextSibling))),e&&e.setAttribute("href",a.update_link));b.classList.add("show")}else k("\u6700\u65b0\u7248");else k("\u68c0\u67e5\u66f4\u65b0\u5931\u8d25",
!0)})}catch(a){console.error(a),k("\u68c0\u67e5\u66f4\u65b0\u5931\u8d25",!0)}v()};m(document).ready(function(){y();z()})})(jQuery);
